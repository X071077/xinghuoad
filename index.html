<!-- =========================
     index.html (updated)
     âœ… Headerã€Œé¸æ“‡èº«åˆ†ã€â†’ æ”¹ç‚ºã€Œæœƒå“¡ä¸­å¿ƒã€ä¸¦å°å‘ dashboard.html
     âœ… Footerã€Œé¸æ“‡èº«åˆ†ã€â†’ æ”¹ç‚ºã€Œæœƒå“¡ä¸­å¿ƒã€ä¸¦å°å‘ dashboard.html
     âœ… ã€Œæ¨å»£å¤¥ä¼´å€ã€æŒ‰éˆ• â†’ å°å‘ dashboard.html
     âœ… é¦–é å³ä¸Šè§’ï¼šæœªç™»å…¥é¡¯ç¤ºã€Œè¨»å†Š/ç™»å…¥ã€ï¼›å·²ç™»å…¥é¡¯ç¤ºã€Œä½¿ç”¨è€…åç¨±/ç™»å‡ºã€
     âœ… ç™»å‡ºè¡Œç‚ºèˆ‡ dashboard åŒæ­¥ï¼šæ¸…é™¤ xinghuo_token / xinghuo_user / xinghuo_my_quests
     âœ… å…¶é¤˜é¢¨æ ¼/åœ–ç‰‡è·¯å¾‘/åŠŸèƒ½ä¸å‹•
     ========================= -->
<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>æ˜Ÿç«å»£å‘Šï½œé¦–é </title>
  <meta name="description" content="æ˜Ÿç«å»£å‘Š é¦–é ï¼šHeader + é¸æ“‡èº«åˆ† + é—œæ–¼æˆ‘å€‘ + åˆ†äº«å€ + Footer" />
  <style>
    :root{
      --bg: #0b0f19;
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.74);
      --shadow: 0 18px 60px rgba(0,0,0,.28);
      --radius: 16px;
      --max: 1100px;
    }

    *{ box-sizing:border-box; }
    html{ scroll-behavior:smooth; }

    body{
      margin:0;
      font-family: "DFKai-SB","BiauKai","KaiTi","STKaiti","Noto Serif TC",serif;
      font-size: 20px;
      font-weight: 700;
      text-align: center;
      color: var(--text);
      line-height: 1.75;
      background: var(--bg);
      position: relative;
      overflow-x: hidden;
    }

    body::before{
      content:"";
      position: fixed;
      inset: 0;
      background-image: url("picture/p1.png");
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      transform: scale(1.02);
      z-index: -3;
    }

    body::after{
      content:"";
      position: fixed;
      inset: 0;
      background:
        radial-gradient(900px 600px at 20% 0%, rgba(255,255,255,.08), transparent 60%),
        radial-gradient(800px 520px at 80% 15%, rgba(255,255,255,.06), transparent 55%),
        linear-gradient(180deg, rgba(0,0,0,.52) 0%, rgba(0,0,0,.60) 45%, rgba(0,0,0,.70) 100%);
      z-index: -2;
      pointer-events: none;
    }

    a{ color:inherit; text-decoration:none; }
    .container{ width:min(var(--max), calc(100% - 40px)); margin:0 auto; }

    header{
      position: sticky;
      top: 0;
      z-index: 50;
      background: rgba(11,15,25,.78);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(255,255,255,.14);
    }
    .header-inner{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:16px;
      padding: 14px 0;
      position: relative; /* âœ… çµ¦æ‰‹æ©Ÿä¸‹æ‹‰é¢æ¿å®šä½ */
    }
    .brand{
      display:flex;
      align-items:center;
      gap:10px;
      min-width: 160px;
    }
    .logo{
      width: 36px; height: 36px;
      border-radius: 10px;
      border: 1px solid rgba(255,255,255,.16);
      box-shadow: var(--shadow);
      background-image: url("picture/logo.png");
      background-repeat: no-repeat;
      background-position: center;
      background-size: contain;
      background-color: rgba(255,255,255,.08);
      flex: 0 0 auto;
    }
    .brand b{
      font-weight: 800;
      letter-spacing:.2px;
      font-size: 22px;
      line-height: 1;
    }

    /* âœ… å°è¦½é¢æ¿ï¼šæ¡Œæ©Ÿæ©«æ’ï¼ˆnav + actionsï¼‰ */
    .navPanel{
      display:flex;
      align-items:center;
      gap: 18px;
      flex: 1;
      justify-content:space-between;
    }

    nav{
      display:flex;
      align-items:center;
      gap: 18px;
      flex-wrap: wrap;
      justify-content:center;
      flex: 1;
    }
    nav a{
      padding: 10px 12px;
      border-radius: 12px;
      color: var(--muted);
      border: 1px solid transparent;
      font-size: 20px;
      font-weight: 800;
      line-height: 1;
    }
    nav a:hover{
      color: var(--text);
      border-color: rgba(255,255,255,.16);
      background: rgba(255,255,255,.04);
    }

    .actions{
      display:flex;
      align-items:center;
      gap:10px;
      min-width: 160px;
      justify-content:flex-end;
    }
    .btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:8px;
      padding: 12px 16px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.16);
      background: rgba(255,255,255,.06);
      color: var(--text);
      cursor:pointer;
      user-select:none;
      font-size: 20px;
      font-weight: 800;
      line-height: 1;
      white-space: nowrap;
    }
    .btn:hover{ background: rgba(255,255,255,.10); }
    .btn.primary{
      background: rgba(255,255,255,.14);
      border-color: rgba(255,255,255,.18);
    }

    /* âœ… tiny style for username badge (uses same btn look) */
    .btn.user{
      background: rgba(255,255,255,.08);
      border-color: rgba(255,255,255,.16);
      cursor: default;
    }
    .btn.logout{
      background: rgba(255,92,122,.10);
      border-color: rgba(255,92,122,.28);
    }
    .btn.logout:hover{
      background: rgba(255,92,122,.18);
      border-color: rgba(255,92,122,.40);
    }

    section{ padding: 74px 0; }
    .section-title{
      margin: 0 0 18px 0;
      font-size: 32px;
      letter-spacing:.3px;
      font-weight: 900;
    }

    .hero{
      position: relative;
      padding: 96px 0 74px;
      overflow: hidden;
    }
    .hero::before{
      content:"";
      position:absolute;
      inset:-40px;
      background:
        radial-gradient(circle at 20% 30%, rgba(255,255,255,.10) 0 2px, transparent 3px),
        radial-gradient(circle at 60% 40%, rgba(255,255,255,.08) 0 2px, transparent 3px),
        radial-gradient(circle at 80% 70%, rgba(255,255,255,.07) 0 2px, transparent 3px),
        radial-gradient(circle at 35% 80%, rgba(255,255,255,.06) 0 2px, transparent 3px),
        radial-gradient(circle at 10% 65%, rgba(255,255,255,.05) 0 2px, transparent 3px),
        radial-gradient(circle at 50% 15%, rgba(255,255,255,.06) 0 2px, transparent 3px);
      opacity: .55;
      z-index: 0;
      animation: heroFloat 10s ease-in-out infinite;
      pointer-events: none;
    }
    .hero::after{
      content:"";
      position:absolute;
      inset:0;
      background:
        linear-gradient(90deg, rgba(11,15,25,.55) 0%, rgba(11,15,25,.35) 50%, rgba(11,15,25,.55) 100%),
        linear-gradient(180deg, rgba(0,0,0,.25) 0%, rgba(0,0,0,.10) 55%, rgba(0,0,0,.25) 100%);
      z-index: 1;
      pointer-events: none;
    }
    @keyframes heroFloat{
      0%{ transform: translateY(0px); }
      50%{ transform: translateY(-10px); }
      100%{ transform: translateY(0px); }
    }

    .hero-wrap{
      position: relative;
      z-index: 2;
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 18px;
      align-items: stretch;
    }

    .hero-block{
      background: rgba(255,255,255,.07);
      border: 1px solid rgba(255,255,255,.16);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      backdrop-filter: blur(8px);
      overflow: hidden;
      min-height: 320px;
      position: relative;
      display:flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
    }

    .hero-block::before{
      content:"";
      position:absolute;
      inset:-60px;
      background:
        linear-gradient(135deg, rgba(255,255,255,.10) 0%, transparent 35%, transparent 100%),
        linear-gradient(315deg, rgba(255,255,255,.06) 0%, transparent 40%, transparent 100%);
      opacity: .55;
      z-index: 0;
      pointer-events:none;
    }

    .hero-media{
      width: 100%;
      aspect-ratio: 16 / 9;
      background: rgba(0,0,0,.18);
      border-bottom: 1px solid rgba(255,255,255,.12);
      position: relative;
      z-index: 1;
      overflow: hidden;
      display:flex;
      align-items:center;
      justify-content:center;
    }
    .hero-media img{
      width: 100%;
      height: 100%;
      object-fit: cover;
      display:block;
    }
    .hero-media .fallback{
      display:none;
      position:absolute;
      inset:0;
      align-items:center;
      justify-content:center;
      color: rgba(255,255,255,.75);
      font-size: 18px;
      font-weight: 900;
      background: rgba(0,0,0,.25);
    }
    .hero-media.is-missing .fallback{ display:flex; }

    .hero-body{
      width: 100%;
      padding: 22px 18px 24px;
      position: relative;
      z-index: 1;
      display:flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 16px;
      flex: 1;
    }

    .hero-card-title{
      margin: 0;
      font-size: 36px;
      font-weight: 900;
      letter-spacing: .4px;
      line-height: 1.25;
    }
    .hero-cta-row{
      display:flex;
      justify-content:center;
      gap:10px;
      flex-wrap: wrap;
      width: 100%;
    }

    .flow-card{
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.16);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow: hidden;
      margin-top: 10px;
    }
    .flow-media{
      position: relative;
      width: min(100%, 1920px);
      aspect-ratio: 16 / 9;
      margin: 0 auto;
      background: rgba(0,0,0,.22);
      display:flex;
      align-items:center;
      justify-content:center;
      overflow: hidden;
    }
    .flow-media img{
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }
    .flow-caption{
      padding: 16px;
      color: var(--muted);
      font-size: 18px;
      border-top: 1px solid rgba(255,255,255,.12);
      font-weight: 800;
    }

    .features-grid{
      display:grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 14px;
      margin-top: 18px;
    }
    .feature-card{
      background: rgba(255,255,255,.07);
      border: 1px solid rgba(255,255,255,.16);
      border-radius: var(--radius);
      padding: 20px 18px;
      box-shadow: var(--shadow);
      display:flex;
      flex-direction: column;
      gap: 12px;
      min-height: 220px;
      align-items:center;
      justify-content:center;
      text-align:center;
    }
    .feature-icon{
      font-size: 38px;
      line-height: 1;
      height: 48px;
      display:flex;
      align-items:center;
      justify-content:center;
    }
    .feature-title{
      margin: 0;
      font-size: 24px;
      letter-spacing: .2px;
      font-weight: 900;
    }
    .feature-desc{
      margin: 0;
      color: var(--muted);
      font-size: 20px;
      font-weight: 800;
      line-height: 1.65;
    }
    .feature-desc .line{ display:block; }

    .grid{ display:grid; gap: 14px; }
    .grid.quotes{
      grid-template-columns: repeat(3, minmax(0, 1fr));
      margin-top: 10px;
    }
    .quote{
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.14);
      border-radius: var(--radius);
      padding: 20px 18px;
      box-shadow: var(--shadow);
    }
    .quote p{
      margin: 0 0 14px 0;
      font-size: 20px;
      font-weight: 800;
      line-height: 1.8;
    }
    .quote span{
      color: var(--muted);
      font-size: 18px;
      font-weight: 800;
    }

    footer{
      padding: 64px 0 30px;
      border-top: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.18);
    }
    .footer-grid{
      display:grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 18px;
      margin-bottom: 22px;
    }
    .footer-card{
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.14);
      border-radius: var(--radius);
      padding: 18px;
      box-shadow: var(--shadow);
    }
    .footer-title{
      margin: 0 0 12px 0;
      font-size: 24px;
      letter-spacing: .2px;
      font-weight: 900;
    }

    .footer-links{
      display:flex;
      flex-direction: column;
      gap: 10px;
      align-items: center;
      justify-content: center;
    }
    .footer-links a{
      color: var(--muted);
      padding: 10px 12px;
      border-radius: 12px;
      border: 1px solid transparent;
      width: fit-content;
      font-size: 20px;
      font-weight: 900;
      line-height: 1;
    }
    .footer-links a:hover{
      color: var(--text);
      border-color: rgba(255,255,255,.14);
      background: rgba(255,255,255,.04);
    }

    .footer-contact{
      display:flex;
      flex-direction: column;
      align-items:center;
      justify-content:center;
      gap: 16px;
      margin-top: 6px;
    }
    .footer-contact p{
      margin: 0;
      color: var(--muted);
      line-height: 1.8;
      font-size: 20px;
      font-weight: 800;
    }

    .footer-bottom{
      margin-top: 18px;
      padding-top: 18px;
      border-top: 1px solid rgba(255,255,255,.10);
      color: rgba(255,255,255,.68);
      font-size: 18px;
      line-height: 1.8;
      font-weight: 800;
    }

    @media (max-width: 900px){
      .hero-wrap{ grid-template-columns: 1fr; }
      nav{ justify-content:center; }
      .brand, .actions{ min-width:auto; }
      .hero{ padding: 80px 0 60px; }

      .features-grid{ grid-template-columns: 1fr; }
      .grid.quotes{ grid-template-columns: 1fr; }
      .footer-grid{ grid-template-columns: 1fr; }
    }

    /* =========================
       âœ… Mobile Menu (NEW)
       ========================= */
    .menuBtn{
      display:none;
      width:44px; height:44px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.16);
      background: rgba(255,255,255,.06);
      cursor:pointer;
      align-items:center;
      justify-content:center;
      gap:6px;
      padding:10px;
      flex: 0 0 auto;
    }
    .menuBtn span{
      display:block;
      width:22px;
      height:2px;
      background: rgba(255,255,255,.86);
      border-radius:999px;
    }
    .menuBtn:hover{ background: rgba(255,255,255,.10); }

    /* âœ… æ‰‹æ©Ÿï¼šheader è®Šç·Šæ¹Š + æ”¶èµ· nav/actionsï¼ˆé»æ¼¢å ¡æ‰å±•é–‹ï¼‰ */
    @media (max-width: 900px){
      .header-inner{ padding: 10px 0; }
      .logo{ width:32px; height:32px; border-radius:10px; }
      .brand b{ font-size:20px; }

      .menuBtn{ display:inline-flex; }

      .navPanel{
        display:none;
        position:absolute;
        left:0; right:0;
        top:100%;
        padding: 14px 20px 18px;
        background: rgba(11,15,25,.92);
        backdrop-filter: blur(12px);
        border-bottom: 1px solid rgba(255,255,255,.14);
        box-shadow: 0 18px 60px rgba(0,0,0,.28);
      }

      .navPanel nav{
        width:100%;
        display:grid;
        grid-template-columns: 1fr 1fr;
        gap:10px;
        justify-content:stretch;
      }
      .navPanel nav a{
        font-size:18px;
        padding: 12px 12px;
        text-align:center;
        background: rgba(255,255,255,.04);
        border-color: rgba(255,255,255,.12);
      }

      .navPanel .actions{
        width:100%;
        margin-top:12px;
        display:grid;
        grid-template-columns: 1fr 1fr;
        gap:10px;
        justify-content:stretch;
      }
      .navPanel .btn{
        width:100%;
        font-size:18px;
        padding: 12px 12px;
      }

      body.menu-open .navPanel{ display:block; }
    }

    @media (max-width: 520px){
      .navPanel nav{ grid-template-columns: 1fr; }
      .navPanel .actions{ grid-template-columns: 1fr; }
    }
  </style>
</head>

<body>
  <header>
    <div class="container">
      <div class="header-inner">
        <a class="brand" href="#top" aria-label="å›åˆ°é é¦–">
          <div class="logo" aria-hidden="true"></div>
          <b>æ˜Ÿç«å»£å‘Š</b>
        </a>

        <!-- âœ… æ‰‹æ©Ÿæ¼¢å ¡æŒ‰éˆ•ï¼ˆæ¡Œæ©Ÿéš±è—ï¼‰ -->
        <button class="menuBtn" id="menuBtn" type="button" aria-label="é–‹å•Ÿé¸å–®" aria-expanded="false">
          <span></span><span></span><span></span>
        </button>

        <!-- âœ… æ¡Œæ©Ÿæ©«æ’ / æ‰‹æ©Ÿä¸‹æ‹‰é¢æ¿ -->
        <div class="navPanel" id="navPanel">
          <nav aria-label="ç«™å…§å°è¦½">
            <!-- âœ… æ”¹ï¼šæœƒå“¡ä¸­å¿ƒ â†’ dashboard -->
            <a href="dashboard.html">æœƒå“¡ä¸­å¿ƒ</a>
            <a href="#intro">é—œæ–¼æˆ‘å€‘</a>
            <a href="#testimonials">åˆ†äº«å€</a>
            <a href="pact.html">ä½¿ç”¨å”è­°</a>
            <a href="#footer">è¯çµ¡è³‡è¨Š</a>
          </nav>

          <div class="actions">
            <!-- âœ… æœªç™»å…¥é¡¯ç¤º -->
            <div id="guestActions" style="display:flex; gap:10px; align-items:center;">
              <a class="btn" href="signup.html">è¨»å†Š</a>
              <a class="btn primary" href="login.html">ç™»å…¥</a>
            </div>

            <!-- âœ… å·²ç™»å…¥é¡¯ç¤º -->
            <div id="userActions" style="display:none; gap:10px; align-items:center;">
              <span class="btn user" id="navUsername" aria-label="ç›®å‰ç™»å…¥ä½¿ç”¨è€…">ä½¿ç”¨è€…</span>
              <button class="btn logout" id="logoutBtn" type="button">ç™»å‡º</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>

  <main id="top">
    <section id="hero" class="hero">
      <div class="container">
        <div class="hero-wrap">
          <div class="hero-block">
            <div class="hero-media">
              <img src="picture/hero_partner.png" alt="æ¨å»£å¤¥ä¼´åœ–ç‰‡" />
              <div class="fallback">æ‰¾ä¸åˆ° hero_partner.png</div>
            </div>
            <div class="hero-body">
              <h1 class="hero-card-title">è®“åˆ†äº«æœ‰åƒ¹å€¼</h1>
              <div class="hero-cta-row">
                <!-- âœ… æ”¹ï¼šæ¨å»£å¤¥ä¼´å€ â†’ dashboard -->
                <a class="btn primary" href="dashboard.html">æ¨å»£å¤¥ä¼´å€</a>
              </div>
            </div>
          </div>

          <div class="hero-block">
            <div class="hero-media">
              <img src="picture/hero_dealer.png" alt="è»Šè¡Œæ¥­å‹™åœ–ç‰‡" />
              <div class="fallback">æ‰¾ä¸åˆ° hero_dealer.png</div>
            </div>
            <div class="hero-body">
              <h1 class="hero-card-title">è®“å¥½è»Šè¢«çœ‹è¦‹</h1>
              <div class="hero-cta-row">
                <!-- âœ… ä¸æ”¹ï¼ˆä¾ä½ è¦æ±‚åªæ”¹æ¨å»£å¤¥ä¼´ï¼‰ -->
                <a class="btn primary" href="dealers.html">è»Šè¡Œæ¥­å‹™å€</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="intro">
      <div class="container">
        <h2 class="section-title">é—œæ–¼æˆ‘å€‘</h2>

        <div class="flow-card" aria-label="å¹³å°é‹ä½œåŸç†åœ–">
          <div class="flow-media">
            <img src="picture/P2.png" alt="å¹³å°é‹ä½œåŸç†åœ–" />
          </div>
          <div class="flow-caption">å¹³å°é‹ä½œåŸç†åœ–</div>
        </div>

        <div class="features-grid" aria-label="å¹³å°ç‰¹è‰²">
          <div class="feature-card">
            <div class="feature-icon">ğŸ’°</div>
            <h3 class="feature-title">è»Šè¡Œ â†’ å¹³å°</h3>
            <p class="feature-desc">
              <span class="line">æ”¯ä»˜å»£å‘Šè²»ï¼Œ</span>
              <span class="line">æ›å–çœŸå¯¦ç¤¾ç¾¤æ›å…‰èˆ‡é«˜è³ªé‡è©¢åƒ¹ã€‚</span>
            </p>
          </div>

          <div class="feature-card">
            <div class="feature-icon">ğŸ¤</div>
            <h3 class="feature-title">å¹³å° â†’ å¤¥ä¼´</h3>
            <p class="feature-desc">
              <span class="line">æ”¯ä»˜ä»»å‹™çé‡‘ï¼Œ</span>
              <span class="line">æ›å–æœ‰æ•ˆæ¨å»£è¡Œå‹•èˆ‡ç¤¾ç¾¤æ“´æ•£ã€‚</span>
            </p>
          </div>

          <div class="feature-card">
            <div class="feature-icon">ğŸš€</div>
            <h3 class="feature-title">å¤¥ä¼´ â†’ è»Šè¡Œ</h3>
            <p class="feature-desc">
              <span class="line">é€²è¡ŒçœŸå¯¦åˆ†äº«ï¼Œ</span>
              <span class="line">å¸¶ä¾†ç²¾æº–å®¢ç¾¤èˆ‡å“ç‰Œä¿¡ä»»åº¦ã€‚</span>
            </p>
          </div>
        </div>
      </div>
    </section>

    <section id="testimonials">
      <div class="container">
        <h2 class="section-title">åˆ†äº«å€</h2>

        <div class="grid quotes">
          <div class="quote">
            <p>ã€Œå¿ƒå¾— 1ï¼šä¸€å¥è©±å›é¥‹ã€‚ã€</p>
            <span>â€” ä½¿ç”¨è€… Aï¼ˆèº«ä»½/æš±ç¨±ï¼‰</span>
          </div>
          <div class="quote">
            <p>ã€Œå¿ƒå¾— 2ï¼šä¸€å¥è©±å›é¥‹ã€‚ã€</p>
            <span>â€” ä½¿ç”¨è€… Bï¼ˆèº«ä»½/æš±ç¨±ï¼‰</span>
          </div>
          <div class="quote">
            <p>ã€Œå¿ƒå¾— 3ï¼šä¸€å¥è©±å›é¥‹ã€‚ã€</p>
            <span>â€” ä½¿ç”¨è€… Cï¼ˆèº«ä»½/æš±ç¨±ï¼‰</span>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer id="footer">
    <div class="container">
      <div class="footer-grid">
        <div class="footer-card">
          <h3 class="footer-title">å¿«é€Ÿé€£çµ</h3>
          <div class="footer-links">
            <!-- âœ… æ”¹ï¼šæœƒå“¡ä¸­å¿ƒ â†’ dashboard -->
            <a href="dashboard.html">æœƒå“¡ä¸­å¿ƒ</a>
            <a href="#intro">é—œæ–¼æˆ‘å€‘</a>
            <a href="#testimonials">åˆ†äº«å€</a>
            <a href="pact.html">ä½¿ç”¨å”è­°</a>
            <a href="login.html">ç™»å…¥</a>
          </div>
        </div>

        <div class="footer-card">
          <h3 class="footer-title">è¯çµ¡è³‡è¨Š</h3>
          <div class="footer-contact">
            <p>Emailï¼šhello@example.com</p>
            <p>é›»è©±ï¼š(02) 1234-5678</p>
            <p>åœ°å€ï¼šå°åŒ—å¸‚ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿</p>
            <p>å®˜æ–¹Lineï¼š@206zsrzq</p>
          </div>
        </div>
      </div>

      <div class="footer-bottom">
        <div>Â© <span id="year"></span> æ˜Ÿç«å»£å‘Š. ç‰ˆæ¬Šæ‰€æœ‰ã€‚</div>
        <div>æœ¬å¹³å°æ´»å‹•ä¾å®˜æ–¹å…¬å‘Šç‚ºæº–ï¼Œä¸»è¾¦å–®ä½ä¿ç•™ä¿®æ”¹ã€çµ‚æ­¢åŠæœ€çµ‚è§£é‡‹æ¬Šã€‚</div>
      </div>
    </div>
  </footer>

  <script>
    document.getElementById("year").textContent = new Date().getFullYear();

    document.querySelectorAll(".hero-media img").forEach(img => {
      img.addEventListener("error", () => {
        const wrap = img.closest(".hero-media");
        if (wrap) wrap.classList.add("is-missing");
      });
    });

    // ===== Mobile header menu toggle =====
    const menuBtn = document.getElementById("menuBtn");
    const navPanel = document.getElementById("navPanel");

    menuBtn?.addEventListener("click", () => {
      const open = document.body.classList.toggle("menu-open");
      menuBtn.setAttribute("aria-expanded", open ? "true" : "false");
    });

    // é»é¸å–®é€£çµå¾Œè‡ªå‹•æ”¶èµ·ï¼ˆæ‰‹æ©Ÿæ›´é †ï¼‰
    navPanel?.querySelectorAll("a").forEach(a => {
      a.addEventListener("click", () => {
        document.body.classList.remove("menu-open");
        menuBtn?.setAttribute("aria-expanded", "false");
      });
    });

    // =========================
    // âœ… Login state on index (match dashboard)
    // =========================
    function safeParse(json, fallback){
      try { return JSON.parse(json); } catch(e){ return fallback; }
    }

    function isLoggedIn(){
      const token = localStorage.getItem('xinghuo_token');
      const userRaw = localStorage.getItem('xinghuo_user');
      const user = safeParse(userRaw, null);
      if(!token || !user) return null;
      return { token, user };
    }

    function setHeaderAuthUI(){
      const guest = document.getElementById('guestActions');
      const authed = document.getElementById('userActions');
      const nameEl = document.getElementById('navUsername');

      const session = isLoggedIn();
      if(!session){
        if(guest) guest.style.display = 'flex';
        if(authed) authed.style.display = 'none';
        return;
      }

      const username = session.user?.username || session.user?.name || 'ä½¿ç”¨è€…';
      if(nameEl) nameEl.textContent = username;

      if(guest) guest.style.display = 'none';
      if(authed) authed.style.display = 'flex';
    }

    function logout(){
      const ok = confirm('ç¢ºå®šè¦ç™»å‡ºå—ï¼Ÿ');
      if(!ok) return;

      localStorage.removeItem('xinghuo_token');
      localStorage.removeItem('xinghuo_user');
      localStorage.removeItem('xinghuo_my_quests'); // âœ… èˆ‡ dashboard åŒæ­¥

      // é—œæ‰æ‰‹æ©Ÿé¸å–® + æ›´æ–° UI
      document.body.classList.remove("menu-open");
      menuBtn?.setAttribute("aria-expanded", "false");
      setHeaderAuthUI();

      // ä¿æŒä¸€è‡´ï¼šå›é¦–é ï¼ˆä½ å·²åœ¨é¦–é ï¼Œé€™è¡Œæœƒåˆ·æ–°ç‹€æ…‹ï¼‰
      location.href = './index.html';
    }

    document.getElementById('logoutBtn')?.addEventListener('click', logout);

    // init
    document.addEventListener('DOMContentLoaded', () => {
      setHeaderAuthUI();
    });
  </script>
</body>
</html>
